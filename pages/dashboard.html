<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Maria Flor</title>
    <meta name="description" content="Dashboard do Sistema Maria Flor - Gestão completa para restaurantes">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#667eea">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/dashboard.css">
    <link rel="stylesheet" href="../css/fixes.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2><i class="fas fa-utensils"></i> Maria Flor</h2>
            <button class="toggle-btn" id="toggleBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <nav class="sidebar-nav">
            <ul>
                <li><a href="#dashboard" class="nav-link active" data-page="dashboard">
                    <i class="fas fa-tachometer-alt"></i> <span>Dashboard</span>
                </a></li>
                <li><a href="#vendas" class="nav-link" data-page="vendas" data-module="vendas">
                    <i class="fas fa-cash-register"></i> <span>Vendas</span>
                </a></li>
                <li><a href="#mesas" class="nav-link" data-page="mesas" data-module="mesas">
                    <i class="fas fa-chair"></i> <span>Mesas</span>
                </a></li>
                <li><a href="#pedidos" class="nav-link" data-page="pedidos" data-module="pedidos">
                    <i class="fas fa-clipboard-list"></i> <span>Pedidos</span>
                </a></li>
                <li><a href="#cardapio" class="nav-link" data-page="cardapio" data-module="cardapio">
                    <i class="fas fa-book-open"></i> <span>Cardápio</span>
                </a></li>
                <li><a href="#estoque" class="nav-link" data-page="estoque" data-module="estoque">
                    <i class="fas fa-boxes"></i> <span>Estoque</span>
                </a></li>
                <li><a href="#financeiro" class="nav-link" data-page="financeiro" data-module="financeiro">
                    <i class="fas fa-chart-line"></i> <span>Financeiro</span>
                </a></li>
                <li><a href="#usuarios" class="nav-link" data-page="usuarios" data-module="usuarios">
                    <i class="fas fa-users-cog"></i> <span>Usuários</span>
                </a></li>
                <li><a href="#relatorios" class="nav-link" data-page="relatorios">
                    <i class="fas fa-file-alt"></i> <span>Relatórios</span>
                </a></li>
                <li><a href="#configuracoes" class="nav-link" data-page="configuracoes">
                    <i class="fas fa-cog"></i> <span>Configurações</span>
                </a></li>
            </ul>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <span class="user-name" id="userName">Usuário</span>
            </div>
            <button class="logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i> <span>Sair</span>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="mobile-toggle" id="mobileToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <h1 id="pageTitle">Dashboard</h1>
            </div>
            <div class="header-right">
                <div class="notifications">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count">3</span>
                </div>
                <div class="user-profile">
                    <i class="fas fa-user-circle"></i>
                    <span id="headerUserName">Usuário</span>
                </div>
            </div>
        </header>

        <!-- Content Area -->
        <div class="content" id="content">
            <!-- Dashboard Content -->
            <div id="dashboard-content" class="page-content active">
                <div class="dashboard-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-info">
                            <h3>R$ 2.450,00</h3>
                            <p>Vendas Hoje</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="stat-info">
                            <h3>23</h3>
                            <p>Pedidos Hoje</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>45</h3>
                            <p>Clientes Atendidos</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="stat-info">
                            <h3>+15%</h3>
                            <p>Crescimento</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <h3>Vendas por Dia</h3>
                        <canvas id="salesChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Produtos Mais Vendidos</h3>
                        <canvas id="productsChart"></canvas>
                    </div>
                </div>

                <div class="recent-orders">
                    <h3>Pedidos Recentes</h3>
                    <div class="orders-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Cliente</th>
                                    <th>Itens</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>#001</td>
                                    <td>João Silva</td>
                                    <td>Hambúrguer, Batata Frita</td>
                                    <td>R$ 35,00</td>
                                    <td><span class="status preparing">Preparando</span></td>
                                    <td>
                                        <button class="btn-small" onclick="viewRecentOrder('#001')" title="Visualizar"><i class="fas fa-eye"></i></button>
                                        <button class="btn-small" onclick="editRecentOrder('#001')" title="Editar"><i class="fas fa-edit"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#002</td>
                                    <td>Maria Santos</td>
                                    <td>Pizza Margherita</td>
                                    <td>R$ 45,00</td>
                                    <td><span class="status ready">Pronto</span></td>
                                    <td>
                                        <button class="btn-small" onclick="viewRecentOrder('#002')" title="Visualizar"><i class="fas fa-eye"></i></button>
                                        <button class="btn-small" onclick="editRecentOrder('#002')" title="Editar"><i class="fas fa-edit"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>#003</td>
                                    <td>Carlos Oliveira</td>
                                    <td>Salada Caesar, Suco</td>
                                    <td>R$ 28,00</td>
                                    <td><span class="status delivered">Entregue</span></td>
                                    <td>
                                        <button class="btn-small" onclick="viewRecentOrder('#003')" title="Visualizar"><i class="fas fa-eye"></i></button>
                                        <button class="btn-small" onclick="editRecentOrder('#003')" title="Editar"><i class="fas fa-edit"></i></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Vendas Content -->
            <div id="vendas-content" class="page-content">
                <div class="page-header">
                    <h2>Vendas</h2>
                    <button class="btn-primary" onclick="openSaleModal()">
                        <i class="fas fa-plus"></i> Nova Venda
                    </button>
                </div>
                
                <div class="filters">
                    <input type="date" id="dateFilter" class="filter-input">
                    <select id="statusFilter" class="filter-input">
                        <option value="">Todos os Status</option>
                        <option value="completed">Concluída</option>
                        <option value="pending">Pendente</option>
                        <option value="cancelled">Cancelada</option>
                    </select>
                    <button class="btn-secondary" onclick="filterSales()">
                        <i class="fas fa-filter"></i> Filtrar
                    </button>
                </div>

                <div class="sales-table">
                    <table>
                        <thead>
                            <tr>
                                <th>ID Venda</th>
                                <th>Data/Hora</th>
                                <th>Cliente</th>
                                <th>Itens</th>
                                <th>Valor Total</th>
                                <th>Método Pagamento</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="salesTableBody">
                            <!-- Sales data will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Mesas Content -->
            <div id="mesas-content" class="page-content">
                <div class="page-header">
                    <h2><i class="fas fa-chair"></i> Controle de Mesas</h2>
                    <div class="header-actions">
                        <button class="btn-success" onclick="addNewTable()">
                            <i class="fas fa-plus"></i> Nova Mesa
                        </button>
                        <button class="btn-secondary" onclick="refreshTables()">
                            <i class="fas fa-sync-alt"></i> Atualizar
                        </button>
                    </div>
                </div>

                <!-- Status Summary -->
                <div class="tables-summary">
                    <div class="summary-card available">
                        <i class="fas fa-check-circle"></i>
                        <div class="summary-info">
                            <span class="summary-number" id="availableTablesCount">0</span>
                            <span class="summary-label">Disponíveis</span>
                        </div>
                    </div>
                    <div class="summary-card occupied">
                        <i class="fas fa-users"></i>
                        <div class="summary-info">
                            <span class="summary-number" id="occupiedTablesCount">0</span>
                            <span class="summary-label">Ocupadas</span>
                        </div>
                    </div>
                    <div class="summary-card reserved">
                        <i class="fas fa-clock"></i>
                        <div class="summary-info">
                            <span class="summary-number" id="reservedTablesCount">0</span>
                            <span class="summary-label">Reservadas</span>
                        </div>
                    </div>
                    <div class="summary-card cleaning">
                        <i class="fas fa-broom"></i>
                        <div class="summary-info">
                            <span class="summary-number" id="cleaningTablesCount">0</span>
                            <span class="summary-label">Limpeza</span>
                        </div>
                    </div>
                </div>

                <!-- Tables Grid -->
                <div class="tables-container">
                    <div class="tables-grid" id="tablesGrid">
                        <!-- Tables will be dynamically generated here -->
                    </div>
                </div>

                <!-- Table Details Modal -->
                <div class="modal fade" id="tableModal" tabindex="-1">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="tableModalTitle">Detalhes da Mesa</h5>
                                <button type="button" class="close" onclick="closeModal('tableModal')">
                                    <span>&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <form id="tableForm">
                                    <input type="hidden" id="tableId">
                                    
                                    <div class="form-group">
                                        <label for="tableNumber">Número da Mesa:</label>
                                        <input type="number" id="tableNumber" class="form-control" min="1" required>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="tableCapacity">Capacidade:</label>
                                        <select id="tableCapacity" class="form-control" required>
                                            <option value="2">2 pessoas</option>
                                            <option value="4">4 pessoas</option>
                                            <option value="6">6 pessoas</option>
                                            <option value="8">8 pessoas</option>
                                            <option value="10">10 pessoas</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="tableStatus">Status:</label>
                                        <select id="tableStatus" class="form-control">
                                            <option value="available">Disponível</option>
                                            <option value="occupied">Ocupada</option>
                                            <option value="reserved">Reservada</option>
                                            <option value="cleaning">Limpeza</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group" id="customerGroup" style="display: none;">
                                        <label for="customerName">Nome do Cliente:</label>
                                        <input type="text" id="customerName" class="form-control">
                                    </div>
                                    
                                    <div class="form-group" id="reservationGroup" style="display: none;">
                                        <label for="reservationTime">Horário da Reserva:</label>
                                        <input type="datetime-local" id="reservationTime" class="form-control">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="tableNotes">Observações:</label>
                                        <textarea id="tableNotes" class="form-control" rows="3"></textarea>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn-secondary" onclick="closeModal('tableModal')">Cancelar</button>
                                <button type="button" class="btn-primary" onclick="saveTable()">Salvar</button>
                                <button type="button" class="btn-success" onclick="openOrderForTable()" id="orderButton" style="display: none;">
                                    <i class="fas fa-utensils"></i> Fazer Pedido
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Other page contents will be added here -->
            <!-- Pedidos Content -->
            <div id="pedidos-content" class="page-content">
                <div class="page-header">
                    <h2>Gerenciar Pedidos</h2>
                    <button class="btn-primary" onclick="openOrderModal()">
                        <i class="fas fa-plus"></i> Novo Pedido
                    </button>
                </div>
                
                <div class="orders-board">
                    <div class="order-column">
                        <h3><i class="fas fa-clock text-warning"></i> Pendentes</h3>
                        <div class="order-list" id="pendingOrders">
                            <!-- Pending orders -->
                        </div>
                    </div>
                    
                    <div class="order-column">
                        <h3><i class="fas fa-fire text-orange"></i> Preparando</h3>
                        <div class="order-list" id="preparingOrders">
                            <!-- Preparing orders -->
                        </div>
                    </div>
                    
                    <div class="order-column">
                        <h3><i class="fas fa-check-circle text-success"></i> Prontos</h3>
                        <div class="order-list" id="readyOrders">
                            <!-- Ready orders -->
                        </div>
                    </div>
                    
                    <div class="order-column">
                        <h3><i class="fas fa-shipping-fast text-info"></i> Entregues</h3>
                        <div class="order-list" id="deliveredOrders">
                            <!-- Delivered orders -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cardápio Content -->
            <div id="cardapio-content" class="page-content">
                <div class="page-header">
                    <h2>Gerenciar Cardápio</h2>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="openProductModal()">
                            <i class="fas fa-plus"></i> Novo Produto
                        </button>
                        <button class="btn-secondary" onclick="openTechnicalSheetModal()" style="margin-left: 10px;">
                            <i class="fas fa-list-alt"></i> Ficha Técnica
                        </button>
                    </div>
                </div>
                
                <div class="filters">
                    <select id="categoryFilter" class="filter-input" onchange="safeFilterProducts()">
                        <option value="">Todas as Categorias</option>
                    </select>
                    <input type="text" id="productSearch" class="filter-input" placeholder="Buscar produto..." onkeyup="safeFilterProducts()">
                    <select id="productStatusFilter" class="filter-input" onchange="safeFilterProducts()">
                        <option value="">Todos</option>
                        <option value="true">Ativos</option>
                        <option value="false">Inativos</option>
                    </select>
                </div>

                <div class="products-grid" id="productsGrid">
                    <!-- Products will be populated here -->
                </div>
            </div>

            <!-- Estoque Content -->
            <div id="estoque-content" class="page-content">
                <div class="page-header">
                    <h2>Controle de Estoque</h2>
                    <button class="btn-primary" onclick="openStockModal()">
                        <i class="fas fa-plus"></i> Ajustar Estoque
                    </button>
                </div>
                
                <div class="stock-alerts" id="stockAlerts">
                    <!-- Low stock alerts will appear here -->
                </div>
                
                <div class="stock-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Produto</th>
                                <th>Categoria</th>
                                <th>Estoque Atual</th>
                                <th>Estoque Mínimo</th>
                                <th>Status</th>
                                <th>Última Movimentação</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="stockTableBody">
                            <!-- Stock data will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Financeiro Content -->
            <div id="financeiro-content" class="page-content">
                <div class="page-header">
                    <h2>Controle Financeiro</h2>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="openExpenseModal()">
                            <i class="fas fa-minus"></i> Nova Despesa
                        </button>
                        <button class="btn-primary" onclick="generateFinancialReport()">
                            <i class="fas fa-chart-bar"></i> Gerar Relatório
                        </button>
                    </div>
                </div>
                
                <div class="financial-cards">
                    <div class="financial-card revenue">
                        <div class="card-icon">
                            <i class="fas fa-arrow-up"></i>
                        </div>
                        <div class="card-info">
                            <h3 id="totalRevenue">R$ 0,00</h3>
                            <p>Receitas do Mês</p>
                        </div>
                    </div>
                    
                    <div class="financial-card expenses">
                        <div class="card-icon">
                            <i class="fas fa-arrow-down"></i>
                        </div>
                        <div class="card-info">
                            <h3 id="totalExpenses">R$ 0,00</h3>
                            <p>Despesas do Mês</p>
                        </div>
                    </div>
                    
                    <div class="financial-card profit">
                        <div class="card-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <div class="card-info">
                            <h3 id="netProfit">R$ 0,00</h3>
                            <p>Lucro Líquido</p>
                        </div>
                    </div>
                </div>

                <div class="financial-charts">
                    <div class="chart-container">
                        <h3>Receitas vs Despesas</h3>
                        <canvas id="financialChart"></canvas>
                    </div>
                    
                    <div class="chart-container">
                        <h3>Formas de Pagamento</h3>
                        <canvas id="paymentMethodsChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Usuários Content -->
            <div id="usuarios-content" class="page-content">
                <div class="page-header">
                    <h2>Gestão de Usuários</h2>
                    <button class="btn-primary" onclick="openUserModal()">
                        <i class="fas fa-user-plus"></i> Novo Usuário
                    </button>
                </div>
                
                <div class="filters">
                    <select id="roleFilter" class="filter-input" onchange="filterUsers()">
                        <option value="">Todos os Perfis</option>
                        <option value="admin">Administrador</option>
                        <option value="gerente">Gerente</option>
                        <option value="garcom">Garçom</option>
                        <option value="cozinha">Cozinha</option>
                        <option value="caixa">Caixa</option>
                    </select>
                    <input type="text" id="userSearch" class="filter-input" placeholder="Buscar usuário..." onkeyup="filterUsers()">
                </div>
                
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>Usuário</th>
                                <th>Email</th>
                                <th>Perfil</th>
                                <th>Status</th>
                                <th>Último Login</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <tr>
                                <td>Administrador</td>
                                <td>admin</td>
                                <td>admin@mariaflor.com</td>
                                <td><span class="badge admin">Administrador</span></td>
                                <td><span class="status active">Ativo</span></td>
                                <td>Hoje 14:30</td>
                                <td>
                                    <button class="btn-small" onclick="editUser('admin')" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-small" onclick="toggleUserStatus('admin')" title="Desativar">
                                        <i class="fas fa-user-slash"></i>
                                    </button>
                                    <button class="btn-small" onclick="resetPassword('admin')" title="Resetar Senha">
                                        <i class="fas fa-key"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Maria Santos</td>
                                <td>gerente</td>
                                <td>gerente@mariaflor.com</td>
                                <td><span class="badge manager">Gerente</span></td>
                                <td><span class="status active">Ativo</span></td>
                                <td>Hoje 13:45</td>
                                <td>
                                    <button class="btn-small" onclick="editUser('gerente')" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-small" onclick="toggleUserStatus('gerente')" title="Desativar">
                                        <i class="fas fa-user-slash"></i>
                                    </button>
                                    <button class="btn-small" onclick="resetPassword('gerente')" title="Resetar Senha">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-small btn-danger" onclick="deleteUser('gerente')" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>João Silva</td>
                                <td>garcom</td>
                                <td>garcom@mariaflor.com</td>
                                <td><span class="badge waiter">Garçom</span></td>
                                <td><span class="status active">Ativo</span></td>
                                <td>Hoje 12:20</td>
                                <td>
                                    <button class="btn-small" onclick="editUser('garcom')" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-small" onclick="toggleUserStatus('garcom')" title="Desativar">
                                        <i class="fas fa-user-slash"></i>
                                    </button>
                                    <button class="btn-small" onclick="resetPassword('garcom')" title="Resetar Senha">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-small btn-danger" onclick="deleteUser('garcom')" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Ana Costa</td>
                                <td>cozinha</td>
                                <td>cozinha@mariaflor.com</td>
                                <td><span class="badge kitchen">Cozinha</span></td>
                                <td><span class="status active">Ativo</span></td>
                                <td>Hoje 11:15</td>
                                <td>
                                    <button class="btn-small" onclick="editUser('cozinha')" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-small" onclick="toggleUserStatus('cozinha')" title="Desativar">
                                        <i class="fas fa-user-slash"></i>
                                    </button>
                                    <button class="btn-small" onclick="resetPassword('cozinha')" title="Resetar Senha">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-small btn-danger" onclick="deleteUser('cozinha')" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>Carlos Oliveira</td>
                                <td>caixa</td>
                                <td>caixa@mariaflor.com</td>
                                <td><span class="badge cashier">Caixa</span></td>
                                <td><span class="status active">Ativo</span></td>
                                <td>Hoje 10:30</td>
                                <td>
                                    <button class="btn-small" onclick="editUser('caixa')" title="Editar">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="btn-small" onclick="toggleUserStatus('caixa')" title="Desativar">
                                        <i class="fas fa-user-slash"></i>
                                    </button>
                                    <button class="btn-small" onclick="resetPassword('caixa')" title="Resetar Senha">
                                        <i class="fas fa-key"></i>
                                    </button>
                                    <button class="btn-small btn-danger" onclick="deleteUser('caixa')" title="Excluir">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="users-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>5</h3>
                            <p>Total de Usuários</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-info">
                            <h3>5</h3>
                            <p>Usuários Ativos</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-sign-in-alt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>3</h3>
                            <p>Online Agora</p>
                        </div>
                    </div>
                </div>
            </div>

            <div id="relatorios-content" class="page-content">
                <div class="page-header">
                    <h2>Relatórios Gerenciais</h2>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="exportReport()">
                            <i class="fas fa-file-export"></i> Exportar
                        </button>
                        <button class="btn-primary" onclick="generateReport()">
                            <i class="fas fa-chart-bar"></i> Gerar Relatório
                        </button>
                    </div>
                </div>
                
                <!-- Filtros de Relatório -->
                <div class="report-filters">
                    <div class="filter-group">
                        <label for="reportType">Tipo de Relatório:</label>
                        <select id="reportType" class="filter-input" onchange="updateReportOptions()">
                            <option value="vendas">Vendas</option>
                            <option value="produtos">Produtos</option>
                            <option value="funcionarios">Funcionários</option>
                            <option value="financeiro">Financeiro</option>
                            <option value="estoque">Estoque</option>
                        </select>
                    </div>
                    
                    <div class="filter-group">
                        <label for="reportPeriod">Período:</label>
                        <select id="reportPeriod" class="filter-input">
                            <option value="hoje">Hoje</option>
                            <option value="semana">Esta Semana</option>
                            <option value="mes" selected>Este Mês</option>
                            <option value="trimestre">Trimestre</option>
                            <option value="ano">Este Ano</option>
                            <option value="custom">Período Personalizado</option>
                        </select>
                    </div>
                    
                    <div class="filter-group" id="customPeriod" style="display: none;">
                        <label for="startDate">De:</label>
                        <input type="date" id="startDate" class="filter-input">
                        <label for="endDate">Até:</label>
                        <input type="date" id="endDate" class="filter-input">
                    </div>
                </div>
                
                <!-- Resumo Executivo -->
                <div class="report-summary">
                    <h3>Resumo Executivo - Este Mês</h3>
                    <div class="summary-cards">
                        <div class="summary-card revenue">
                            <div class="card-icon">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div class="card-info">
                                <h4>R$ 45.680,50</h4>
                                <p>Receita Total</p>
                                <span class="trend positive">+12.5%</span>
                            </div>
                        </div>
                        
                        <div class="summary-card orders">
                            <div class="card-icon">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="card-info">
                                <h4>567</h4>
                                <p>Pedidos</p>
                                <span class="trend positive">+8.3%</span>
                            </div>
                        </div>
                        
                        <div class="summary-card customers">
                            <div class="card-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="card-info">
                                <h4>234</h4>
                                <p>Clientes</p>
                                <span class="trend positive">+15.2%</span>
                            </div>
                        </div>
                        
                        <div class="summary-card ticket">
                            <div class="card-icon">
                                <i class="fas fa-receipt"></i>
                            </div>
                            <div class="card-info">
                                <h4>R$ 80,56</h4>
                                <p>Ticket Médio</p>
                                <span class="trend positive">+3.8%</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Gráficos de Relatório -->
                <div class="report-charts">
                    <div class="chart-row">
                        <div class="chart-container">
                            <h4>Vendas por Período</h4>
                            <canvas id="reportSalesChart"></canvas>
                        </div>
                        
                        <div class="chart-container">
                            <h4>Métodos de Pagamento</h4>
                            <canvas id="reportPaymentChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="chart-row">
                        <div class="chart-container">
                            <h4>Produtos Mais Vendidos</h4>
                            <canvas id="reportProductsChart"></canvas>
                        </div>
                        
                        <div class="chart-container">
                            <h4>Performance por Funcionário</h4>
                            <canvas id="reportStaffChart"></canvas>
                        </div>
                    </div>
                </div>
                
                <!-- Tabelas Detalhadas -->
                <div class="report-tables">
                    <div class="table-section">
                        <h4>Top 10 Produtos</h4>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Produto</th>
                                        <th>Quantidade</th>
                                        <th>Receita</th>
                                        <th>Margem</th>
                                        <th>Tendência</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Hambúrguer Artesanal</td>
                                        <td>89</td>
                                        <td>R$ 2.928,10</td>
                                        <td>65%</td>
                                        <td><span class="trend positive">↗ +15%</span></td>
                                    </tr>
                                    <tr>
                                        <td>Pizza Margherita</td>
                                        <td>67</td>
                                        <td>R$ 3.015,00</td>
                                        <td>70%</td>
                                        <td><span class="trend positive">↗ +8%</span></td>
                                    </tr>
                                    <tr>
                                        <td>Salada Caesar</td>
                                        <td>45</td>
                                        <td>R$ 1.260,00</td>
                                        <td>75%</td>
                                        <td><span class="trend negative">↘ -3%</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="table-section">
                        <h4>Performance por Funcionário</h4>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Funcionário</th>
                                        <th>Vendas</th>
                                        <th>Pedidos</th>
                                        <th>Ticket Médio</th>
                                        <th>Avaliação</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>João Silva (Garçom)</td>
                                        <td>R$ 12.450,00</td>
                                        <td>156</td>
                                        <td>R$ 79,81</td>
                                        <td><span class="rating">⭐⭐⭐⭐⭐</span></td>
                                    </tr>
                                    <tr>
                                        <td>Maria Santos (Gerente)</td>
                                        <td>R$ 18.320,00</td>
                                        <td>198</td>
                                        <td>R$ 92,53</td>
                                        <td><span class="rating">⭐⭐⭐⭐⭐</span></td>
                                    </tr>
                                    <tr>
                                        <td>Carlos Oliveira (Caixa)</td>
                                        <td>R$ 14.910,50</td>
                                        <td>213</td>
                                        <td>R$ 70,00</td>
                                        <td><span class="rating">⭐⭐⭐⭐</span></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Alertas e Insights -->
                <div class="report-insights">
                    <h4>Insights e Recomendações</h4>
                    <div class="insights-grid">
                        <div class="insight-card success">
                            <div class="insight-icon">
                                <i class="fas fa-arrow-up"></i>
                            </div>
                            <div class="insight-content">
                                <h5>Crescimento de Vendas</h5>
                                <p>Vendas aumentaram 12.5% comparado ao mês anterior. Continue com as estratégias atuais.</p>
                            </div>
                        </div>
                        
                        <div class="insight-card warning">
                            <div class="insight-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <div class="insight-content">
                                <h5>Estoque de Ingredientes</h5>
                                <p>5 ingredientes estão com estoque baixo. Considere fazer pedido de reposição.</p>
                            </div>
                        </div>
                        
                        <div class="insight-card info">
                            <div class="insight-icon">
                                <i class="fas fa-lightbulb"></i>
                            </div>
                            <div class="insight-content">
                                <h5>Oportunidade de Menu</h5>
                                <p>Pratos vegetarianos têm alta demanda. Considere expandir essas opções.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="configuracoes-content" class="page-content">
                <div class="page-header">
                    <h2>Configurações do Sistema</h2>
                    <button class="btn-primary" onclick="saveConfigurations()">
                        <i class="fas fa-save"></i> Salvar Configurações
                    </button>
                </div>
                
                <div class="config-sections">
                    <!-- Dados do Restaurante -->
                    <div class="config-section">
                        <h3><i class="fas fa-utensils"></i> Dados do Restaurante</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="restaurantName">Nome do Restaurante:</label>
                                <input type="text" id="restaurantName" value="Maria Flor" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="restaurantAddress">Endereço:</label>
                                <input type="text" id="restaurantAddress" value="Salvador, BA - Bairro do Resgate" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="restaurantPhone">Telefone:</label>
                                <input type="text" id="restaurantPhone" value="(71) 99999-9999" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="restaurantEmail">Email:</label>
                                <input type="email" id="restaurantEmail" value="contato@mariaflor.com" class="form-control">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Configurações de Venda -->
                    <div class="config-section">
                        <h3><i class="fas fa-cash-register"></i> Configurações de Venda</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="serviceFee">Taxa de Serviço (%):</label>
                                <input type="number" id="serviceFee" value="10" min="0" max="20" step="0.1" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="defaultPrepTime">Tempo Padrão de Preparo (min):</label>
                                <input type="number" id="defaultPrepTime" value="20" min="5" max="120" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Métodos de Pagamento Aceitos:</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" checked> Dinheiro</label>
                                    <label><input type="checkbox" checked> Cartão de Crédito</label>
                                    <label><input type="checkbox" checked> Cartão de Débito</label>
                                    <label><input type="checkbox" checked> PIX</label>
                                    <label><input type="checkbox"> Transferência</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Configurações do Sistema -->
                    <div class="config-section">
                        <h3><i class="fas fa-cog"></i> Sistema</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="autoRefresh">Atualização Automática (segundos):</label>
                                <input type="number" id="autoRefresh" value="30" min="10" max="300" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="theme">Tema do Sistema:</label>
                                <select id="theme" class="form-control">
                                    <option value="light" selected>Claro</option>
                                    <option value="dark">Escuro</option>
                                    <option value="auto">Automático</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Notificações:</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" checked> Novos pedidos</label>
                                    <label><input type="checkbox" checked> Estoque baixo</label>
                                    <label><input type="checkbox"> Metas de vendas</label>
                                    <label><input type="checkbox"> Backup automático</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Configurações de Estoque -->
                    <div class="config-section">
                        <h3><i class="fas fa-boxes"></i> Estoque</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="lowStockThreshold">Alerta de Estoque Baixo (%):</label>
                                <input type="number" id="lowStockThreshold" value="20" min="5" max="50" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="criticalStockThreshold">Alerta de Estoque Crítico (%):</label>
                                <input type="number" id="criticalStockThreshold" value="5" min="1" max="20" class="form-control">
                            </div>
                            <div class="form-group">
                                <label>Movimentação Automática:</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" checked> Deduzir ao fazer pedido</label>
                                    <label><input type="checkbox"> Alertas por email</label>
                                    <label><input type="checkbox"> Sugestão de compras</label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Backup e Segurança -->
                    <div class="config-section">
                        <h3><i class="fas fa-shield-alt"></i> Backup e Segurança</h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="backupFrequency">Frequência de Backup:</label>
                                <select id="backupFrequency" class="form-control">
                                    <option value="hourly">A cada hora</option>
                                    <option value="daily" selected>Diário</option>
                                    <option value="weekly">Semanal</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="sessionTimeout">Timeout de Sessão (min):</label>
                                <input type="number" id="sessionTimeout" value="60" min="15" max="480" class="form-control">
                            </div>
                            <div class="form-group">
                                <button class="btn-secondary" onclick="performBackup()">
                                    <i class="fas fa-download"></i> Fazer Backup Agora
                                </button>
                                <button class="btn-secondary" onclick="exportData()">
                                    <i class="fas fa-file-export"></i> Exportar Dados
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Informações do Sistema -->
                <div class="system-info">
                    <h3><i class="fas fa-info-circle"></i> Informações do Sistema</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <strong>Versão:</strong> 2.0.0
                        </div>
                        <div class="info-item">
                            <strong>Última Atualização:</strong> 22/10/2025
                        </div>
                        <div class="info-item">
                            <strong>Banco de Dados:</strong> PostgreSQL (Neon)
                        </div>
                        <div class="info-item">
                            <strong>Hospedagem:</strong> Netlify
                        </div>
                        <div class="info-item">
                            <strong>Uptime:</strong> 99.9%
                        </div>
                        <div class="info-item">
                            <strong>Desenvolvedores:</strong> Cristiano Superação
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Nova Venda -->
    <div id="saleModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nova Venda</h3>
                <span class="close" onclick="closeSaleModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="saleForm">
                    <div class="form-group">
                        <label for="customerName">Nome do Cliente:</label>
                        <input type="text" id="customerName" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="saleItems">Itens:</label>
                        <div id="saleItems">
                            <!-- Items will be added dynamically -->
                        </div>
                        <button type="button" onclick="addItem()" class="btn-secondary">
                            <i class="fas fa-plus"></i> Adicionar Item
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label for="paymentMethod">Método de Pagamento:</label>
                        <select id="paymentMethod" required>
                            <option value="">Selecione</option>
                            <option value="cash">Dinheiro</option>
                            <option value="card">Cartão</option>
                            <option value="pix">PIX</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="totalAmount">Total: R$ <span id="totalAmount">0,00</span></label>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" onclick="closeSaleModal()" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Finalizar Venda</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Produto -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="productModalTitle">Novo Produto</h3>
                <span class="close" onclick="closeProductModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productName">Nome do Produto:</label>
                            <input type="text" id="productName" required>
                        </div>
                        <div class="form-group">
                            <label for="productCategory">Categoria:</label>
                            <select id="productCategory" required>
                                <option value="">Selecione uma categoria</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="productDescription">Descrição:</label>
                        <textarea id="productDescription" rows="3"></textarea>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="productPrice">Preço (R$):</label>
                            <input type="number" id="productPrice" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="productStock">Estoque Inicial:</label>
                            <input type="number" id="productStock" min="0" value="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="productImage">URL da Imagem:</label>
                        <input type="url" id="productImage" placeholder="https://exemplo.com/imagem.jpg">
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" onclick="closeProductModal()" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Salvar Produto</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Pedido -->
    <div id="orderModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Novo Pedido</h3>
                <span class="close" onclick="closeOrderModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="orderForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="orderTable">Mesa:</label>
                            <input type="number" id="orderTable" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="orderPriority">Prioridade:</label>
                            <select id="orderPriority">
                                <option value="1">Normal</option>
                                <option value="2">Alta</option>
                                <option value="3">Urgente</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Itens do Pedido:</label>
                        <div id="orderItems">
                            <!-- Order items will be added here -->
                        </div>
                        <button type="button" onclick="addOrderItem()" class="btn-secondary">
                            <i class="fas fa-plus"></i> Adicionar Item
                        </button>
                    </div>
                    
                    <div class="form-group">
                        <label for="orderNotes">Observações:</label>
                        <textarea id="orderNotes" rows="2" placeholder="Observações especiais..."></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" onclick="closeOrderModal()" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Criar Pedido</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Ajuste de Estoque -->
    <div id="stockModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ajustar Estoque</h3>
                <span class="close" onclick="closeStockModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="stockForm">
                    <div class="form-group">
                        <label for="stockProduct">Produto:</label>
                        <select id="stockProduct" required>
                            <option value="">Selecione um produto</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="stockType">Tipo de Movimentação:</label>
                        <select id="stockType" required>
                            <option value="">Selecione</option>
                            <option value="in">Entrada (Compra)</option>
                            <option value="out">Saída (Perda/Uso)</option>
                            <option value="adjustment">Ajuste de Inventário</option>
                        </select>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="stockQuantity">Quantidade:</label>
                            <input type="number" id="stockQuantity" min="1" required>
                        </div>
                        <div class="form-group">
                            <label for="stockReason">Motivo:</label>
                            <select id="stockReason">
                                <option value="purchase">Compra</option>
                                <option value="loss">Perda</option>
                                <option value="adjustment">Ajuste</option>
                                <option value="return">Devolução</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="stockNotes">Observações:</label>
                        <textarea id="stockNotes" rows="2"></textarea>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" onclick="closeStockModal()" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Confirmar Ajuste</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Despesa -->
    <div id="expenseModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Nova Despesa</h3>
                <span class="close" onclick="closeExpenseModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="expenseForm">
                    <div class="form-group">
                        <label for="expenseDescription">Descrição:</label>
                        <input type="text" id="expenseDescription" required placeholder="Ex: Conta de luz, Salários, etc.">
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="expenseAmount">Valor (R$):</label>
                            <input type="number" id="expenseAmount" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="expenseCategory">Categoria:</label>
                            <select id="expenseCategory" required>
                                <option value="">Selecione</option>
                                <option value="utilities">Utilidades (Luz, Água, etc.)</option>
                                <option value="rent">Aluguel</option>
                                <option value="salaries">Salários</option>
                                <option value="supplies">Suprimentos</option>
                                <option value="maintenance">Manutenção</option>
                                <option value="marketing">Marketing</option>
                                <option value="other">Outros</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="expenseDate">Data:</label>
                            <input type="date" id="expenseDate" required>
                        </div>
                        <div class="form-group">
                            <label for="expensePayment">Forma de Pagamento:</label>
                            <select id="expensePayment">
                                <option value="cash">Dinheiro</option>
                                <option value="card">Cartão</option>
                                <option value="transfer">Transferência</option>
                                <option value="check">Cheque</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" onclick="closeExpenseModal()" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Salvar Despesa</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Usuário -->
    <div id="userModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="userModalTitle">Novo Usuário</h3>
                <span class="close" onclick="closeUserModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="userForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userFullName">Nome Completo:</label>
                            <input type="text" id="userFullName" required class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="userName">Nome de Usuário:</label>
                            <input type="text" id="userName" required class="form-control">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userEmail">Email:</label>
                            <input type="email" id="userEmail" required class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="userPhone">Telefone:</label>
                            <input type="tel" id="userPhone" class="form-control">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userRole">Perfil de Acesso:</label>
                            <select id="userRole" required class="form-control">
                                <option value="">Selecione o perfil</option>
                                <option value="admin">Administrador</option>
                                <option value="gerente">Gerente</option>
                                <option value="garcom">Garçom</option>
                                <option value="cozinha">Cozinha</option>
                                <option value="caixa">Caixa</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="userStatus">Status:</label>
                            <select id="userStatus" class="form-control">
                                <option value="ativo">Ativo</option>
                                <option value="inativo">Inativo</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="userPassword">Senha:</label>
                            <input type="password" id="userPassword" required class="form-control">
                            <small>Mínimo 6 caracteres</small>
                        </div>
                        <div class="form-group">
                            <label for="userPasswordConfirm">Confirmar Senha:</label>
                            <input type="password" id="userPasswordConfirm" required class="form-control">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>Permissões Especiais:</label>
                        <div class="permissions-grid">
                            <label><input type="checkbox" id="permDashboard"> Dashboard</label>
                            <label><input type="checkbox" id="permVendas"> Vendas</label>
                            <label><input type="checkbox" id="permMesas"> Mesas</label>
                            <label><input type="checkbox" id="permPedidos"> Pedidos</label>
                            <label><input type="checkbox" id="permCardapio"> Cardápio</label>
                            <label><input type="checkbox" id="permEstoque"> Estoque</label>
                            <label><input type="checkbox" id="permFinanceiro"> Financeiro</label>
                            <label><input type="checkbox" id="permRelatorios"> Relatórios</label>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" onclick="closeUserModal()" class="btn-secondary">Cancelar</button>
                        <button type="submit" class="btn-primary">Salvar Usuário</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal Ficha Técnica -->
    <div id="technicalSheetModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="technicalSheetModalTitle">Gerenciar Fichas Técnicas</h3>
                <span class="close" onclick="closeTechnicalSheetModal()">&times;</span>
            </div>
            <div class="modal-body">
                <!-- Seletor de Produto -->
                <div class="form-group">
                    <label for="technicalSheetProduct">Produto:</label>
                    <select id="technicalSheetProduct" class="form-control" onchange="loadTechnicalSheet()">
                        <option value="">Selecione um produto</option>
                    </select>
                    <button type="button" class="btn-secondary" onclick="createNewTechnicalSheet()" style="margin-top: 10px;">
                        <i class="fas fa-plus"></i> Nova Ficha Técnica
                    </button>
                </div>

                <!-- Formulário de Ficha Técnica -->
                <div id="technicalSheetForm" style="display: none;">
                    <h4>Ingredientes e Quantidades</h4>
                    <div class="ingredients-section">
                        <div class="form-group">
                            <label>Descrição do Produto:</label>
                            <textarea id="productDescription" class="form-control" rows="3" placeholder="Descreva o produto e modo de preparo..."></textarea>
                        </div>
                        
                        <div class="ingredients-header">
                            <h5>Lista de Ingredientes</h5>
                            <button type="button" class="btn-small btn-primary" onclick="addIngredient()">
                                <i class="fas fa-plus"></i> Adicionar Ingrediente
                            </button>
                        </div>
                        
                        <div id="ingredientsList" class="ingredients-list">
                            <!-- Ingredientes serão adicionados aqui dinamicamente -->
                        </div>
                        
                        <div class="cost-summary">
                            <div class="cost-row">
                                <label>Custo Total dos Ingredientes:</label>
                                <span id="totalIngredientsCost">R$ 0,00</span>
                            </div>
                            <div class="cost-row">
                                <label>Margem de Lucro (%):</label>
                                <input type="number" id="profitMargin" class="form-control" value="60" min="0" max="1000" onchange="calculateSuggestedPrice()">
                            </div>
                            <div class="cost-row">
                                <label>Preço Sugerido:</label>
                                <span id="suggestedPrice">R$ 0,00</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Lista de Fichas Técnicas Existentes -->
                <div id="technicalSheetsList">
                    <h4>Fichas Técnicas Cadastradas</h4>
                    <div class="technical-sheets-grid" id="technicalSheetsGrid">
                        <!-- Fichas técnicas serão listadas aqui -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" onclick="closeTechnicalSheetModal()">Fechar</button>
                <button type="button" class="btn-primary" onclick="saveTechnicalSheet()" id="saveTechnicalSheetBtn" style="display: none;">
                    <i class="fas fa-save"></i> Salvar Ficha Técnica
                </button>
            </div>
        </div>
    </div>

    <!-- Client Mode Scripts -->
    <!-- Sistema de Autenticação Neon -->
    <script src="../js/auth-neon.js"></script>
    <script src="../js/dashboard.js"></script>
    <script>
        // Inicializar autenticação
        const auth = new AuthSystemNeon();
        
        // Verificar se usuário está logado
        if (!auth.isAuthenticated()) {
            window.location.href = '../index.html';
        }
    </script>
</body>
</html>